<header>
  <nav>
    <a class="home" href="/">
      <svg
        width="40px"
        height="20px"
        viewBox="0 0 20 10"
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
      >
        <g
          id="Icons"
          stroke="none"
          stroke-width="1"
          fill="none"
          fill-rule="evenodd"
        >
          <g id="Rounded" transform="translate(-374.000000, -913.000000)">
            <g id="AV" transform="translate(100.000000, 852.000000)">
              <g
                id="-Round-/-AV-/-art_track"
                transform="translate(272.000000, 54.000000)"
              >
                <g>
                  <rect id="Rectangle-Copy-7" x="0" y="0" width="24" height="24"
                  ></rect>
                  <path
                    d="M21,13 L15,13 C14.45,13 14,12.55 14,12 C14,11.45 14.45,11 15,11 L21,11 C21.55,11 22,11.45 22,12 C22,12.55 21.55,13 21,13 Z M21,7 L15,7 C14.45,7 14,7.45 14,8 C14,8.55 14.45,9 15,9 L21,9 C21.55,9 22,8.55 22,8 C22,7.45 21.55,7 21,7 Z M15,17 L21,17 C21.55,17 22,16.55 22,16 C22,15.45 21.55,15 21,15 L15,15 C14.45,15 14,15.45 14,16 C14,16.55 14.45,17 15,17 Z M12,9 L12,15 C12,16.1 11.1,17 10,17 L4,17 C2.9,17 2,16.1 2,15 L2,9 C2,7.9 2.9,7 4,7 L10,7 C11.1,7 12,7.9 12,9 Z M9.9,14.2 L8.64,12.52 C8.44,12.26 8.05,12.25 7.84,12.51 L6.5,14.26 L5.65,13.23 C5.45,12.98 5.07,12.99 4.87,13.24 L4.13,14.19 C3.87,14.52 4.11,15 4.52,15 L9.5,15 C9.91,15 10.15,14.53 9.9,14.2 Z"
                    fill="rgb(var(--blue-color))"></path>
                </g>
              </g>
            </g>
          </g>
        </g>
      </svg>
      L'IA dans l'art
    </a>
    <ul id="primary-navigation" class="primary-navigation" data-visible="false">
      <li><a href="/ethiques">Éthiques</a></li>
      <li><a href="/enquetes">Enquête</a></li>
      <li><a href="/experts">Avis de l'expert</a></li>
      <li><a href="/conclusion">Conclusion</a></li>
      <li><a href="/notre-equipe">Notre équipe</a></li>
      <li><a href="/bibliographie">Bibliographie</a></li>
      <li>
        <a
          class="back-button"
          href="https://hosting.umons.ac.be/html/ethiqueia/2022-2023/"
          >Retour aux sujets</a
        >
      </li>
    </ul>
    <button
      id="primary-navigation"
      aria-controls="primary-navigation"
      aria-expanded="false"
    >
      <svg
        fill="rgb(var(--blue-color))"
        class="hamburger"
        viewBox="0 0 100 100"
        width="42"
      >
        <rect class="line top" width="80" height="10" x="10" y="20" rx="5"
        ></rect>
        <rect class="line middle" width="80" height="10" x="10" y="45" rx="5"
        ></rect>

        <rect class="line bottom" width="80" height="10" x="10" y="70" rx="5"
        ></rect>
      </svg>
    </button>
  </nav>
</header>

<style>
  header {
    background-color: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(5px);
    z-index: 9997;
    box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;
    border-bottom: 2px solid rgb(var(--accent));
  }

  nav {
    font-size: 0.9rem;
    font-weight: 700;

    margin: auto;
    max-width: 80rem;
    padding: 1rem 1.5rem;

    display: flex;
    justify-content: space-between;

    gap: 1rem;
    flex-wrap: wrap;

    /* offset-x | offset-y | blur-radius | spread-radius | color */
    /*box-shadow: 0em 0.1em 0.5em 0.1em var(--light-blue-color);*/
  }
  nav ul {
    list-style: none;
    display: flex;
    gap: 1rem;
    margin: 0;
    padding: 0;
    /*background-color: aqua;*/

    z-index: 9998;
  }

  nav ul li {
    margin: auto;
  }

  nav ul li a {
    text-decoration: none;
    padding: 0.1rem 0.3rem;
    /*background-color: azure;*/
    color: rgb(var(--blue-color));
    position: relative;
  }

  nav ul li a:after {
    content: "";
    position: absolute;
    bottom: -0.15rem;
    left: 0;
    height: 0.2rem;
    width: 0%;
    background-color: rgb(var(--blue-color));
    border-radius: 1rem;
    transition: width 0.5s;
  }

  nav ul li a:hover:after {
    width: 100%;
  }

  .home {
    text-decoration: none;
    font-size: 1.6rem;
    display: flex;
    gap: 0.5rem;
    /*background-color: aqua;*/
    align-items: center;
    margin: 0;
    padding: 0;
    color: rgb(var(--blue-color));
    position: relative;
    transition: opacity 0.5s;
  }

  .home:hover {
    opacity: 65%;
  }
  .back-button {
    padding: 0.5rem 0.75rem;
    border-radius: 2rem;
    font-weight: bold;
    border: 0.2rem solid rgb(var(--blue-color));
    background-color: rgb(var(--bg-color));
    transition: all 0.2s ease-in-out;
  }
  .back-button::after {
    display: none;
  }

  .back-button:hover {
    background-color: rgb(var(--blue-color));
    color: rgb(var(--bg-color));
  }

  button {
    background: rgb(var(--bg-color));
    border-radius: 0.3rem;
    z-index: 9999;
    /*border: 0.2rem solid rgb(var(--blue-color));*/
    border: none;
    padding: 0;
    height: 42px;
    cursor: pointer;
    display: none;
    transition: background-color 100ms ease-in-out;
  }

  button .line {
    --duration: 200ms;
    transition: y var(--duration) ease-in var(--duration),
      rotate var(--duration) ease-in-out, opacity 0ms var(--duration);
    transform-origin: center;
  }
  button[aria-expanded="true"] .line {
    transition: y var(--duration) ease-in,
      rotate var(--duration) ease-in-out var(--duration),
      opacity 0ms var(--duration);
  }

  button[aria-expanded="true"] :is(.top, .bottom) {
    y: 45;
  }
  button[aria-expanded="true"] .top {
    rotate: 45deg;
  }
  button[aria-expanded="true"] .middle {
    opacity: 0;
  }
  button[aria-expanded="true"] .bottom {
    rotate: -45deg;
  }
  button:hover {
    background-color: rgba(var(--blue-color), 0.1);
  }

  @media (max-width: 1150px) {
    body {
      overflow-x: hidden;
    }
    .primary-navigation {
      font-size: 1.2rem;
      position: fixed;
      inset: 0 0 0 30%;
      background-color: rgba(var(--bg-color), 0.95);
      flex-direction: column;
      justify-items: center;
      height: 100vh;
      padding: min(30vh, 10rem) 5%;

      transform: translateX(100%);
      transition: transform 350ms ease-in-out;
    }
    .primary-navigation li {
      margin: 0;
    }

    .primary-navigation[data-visible="true"] {
      transform: translateX(0%);
      transition: transform 350ms ease-in-out;

      /* offset-x | offset-y | blur-radius | spread-radius | color */
      box-shadow: 0 0 30px 0 rgba(var(--blue-color), 0.4);
    }
    button {
      display: block;
    }
    .back-button {
      margin-top: 3rem;
      padding: 1rem 1.5rem;
    }
    li:has(.back-button) {
      padding-top: 1rem;
    }
  }
  @media (max-width: 430px) {
    .home {
      flex-direction: column;
      font-size: 0.75rem;
    }
  }
</style>

<script>
  const menu_ul = document.querySelector("ul#primary-navigation");
  const menu_btn = document.querySelector("button#primary-navigation");
  // Gérer les clics sur chaque bouton.

  window.addEventListener("click", (e) => {
    const visibility = menu_ul.getAttribute("data-visible");
    if (visibility === "false" && menu_btn.contains(e.target as Node)) {
      menu_ul.setAttribute("data-visible", "true");
      menu_btn.setAttribute("aria-expanded", "true");
    } else if (
      visibility === "true" &&
      (menu_btn.contains(e.target as Node) ||
        !menu_ul.contains(e.target as Node))
    ) {
      menu_ul.setAttribute("data-visible", "false");
      menu_btn.setAttribute("aria-expanded", "false");
    }
  });
</script>
